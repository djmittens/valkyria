{"t": "spec", "spec": "debug-dashboard-validation.md"}
{"t": "task", "id": "t-2vd4", "spec": "debug-dashboard-validation.md", "name": "Add debug/reset-state unit tests", "s": "p", "notes": "debug-broadcaster.valk has debug/reset-state for bulk cleanup on session ID change. No explicit unit tests exist. Add tests verifying: session ID increments, old subscribers get cleaned up, new subscribers work after reset.", "accept": "Tests verify debug/reset-state behavior in test_debug_handler.valk", "priority": "low", "reject": "No tests for debug/reset-state exist in test_debug_handler.valk or any other test file"}
{"t": "task", "id": "t-76lv", "spec": "debug-dashboard-validation.md", "name": "Add GC coordination integration test", "s": "p", "notes": "Create test/test_gc_aio.c that tests GC triggering after aio/start: 1) Start aio, 2) Trigger GC, 3) Verify no hang. Also test allocation after aio/start triggers auto-GC. Use timeout to catch hangs.", "accept": "Test passes: make build && build/test_gc_aio completes in <5 seconds with exit 0", "deps": ["t-txro"], "priority": "medium", "reject": "build/test_gc_aio binary does not exist; test_gc_aio.c was never created (test_gc_aio_hang exists but has different name)"}
{"t": "task", "id": "t-wdmq", "spec": "debug-dashboard-validation.md", "name": "Add Cache-Control header test for /debug/metrics/state", "s": "p", "notes": "Add test verifying Cache-Control: no-cache header on /debug/metrics/state endpoint. Use existing get-header helper.", "accept": "Test verifies Cache-Control: no-cache header and passes", "deps": ["t-okzx"], "priority": "medium", "reject": "No test verifies Cache-Control header on /debug/metrics/state endpoint"}
{"t": "task", "id": "t-m8th", "spec": "debug-dashboard-validation.md", "name": "Verify test_debug_handler.valk passes without timeouts", "s": "p", "notes": "After fixes, run build/valk test/test_debug_handler.valk and verify all 31 tests pass with no spurious TIMEOUT messages", "accept": "All 31 tests pass; no TIMEOUT lines in output", "deps": ["t-vup6", "t-5rz7"], "priority": "high", "reject": "Only 29/31 tests pass; 2 tests timed out"}
{"t": "task", "id": "t-2fwh", "spec": "debug-dashboard-validation.md", "name": "Verify timer cancellation fix works", "s": "p", "notes": "Run test_debug_handler.valk and verify no duplicate TIMEOUT messages after PASS. All 31 tests should pass with no spurious timeouts.", "accept": "All 31 tests pass; no TIMEOUT lines in output after PASS", "deps": ["t-8bnn"], "priority": "high", "reject": "Only 28/31 tests pass; 3 tests timed out with TIMEOUT lines in output"}
{"t": "task", "id": "t-ah2k", "spec": "debug-dashboard-validation.md", "name": "Add cancellation test for aio/schedule", "s": "p", "notes": "Add a test that verifies: 1) aio/schedule returns a handle, 2) aio/cancel on that handle sets status to CANCELLED, 3) The callback does not fire after cancellation. Put test in test_aio_timer_unit.c or a new file.", "accept": "Test passes: schedule a timer, cancel it immediately, verify callback never runs", "deps": ["t-0k4o"], "priority": "high", "reject": "Test missing assertion to verify callback never runs after cancellation"}
{"t": "task", "id": "t-98xn", "spec": "debug-dashboard-validation.md", "name": "Remove or fix prev_ptr debug check in gc.c", "s": "p", "notes": "The debug check at gc.c:2924-2930 uses static __thread prev_ptr that persists between tests causing false positives. Either: (1) Remove the debug check entirely since it has outlived its usefulness, OR (2) Reset prev_ptr at the start of each allocation from a new heap. Option 1 is simpler and preferred unless there is a reason to keep the debug check.", "accept": "gc.c builds successfully and the prev_ptr debug check no longer causes false positives between tests", "priority": "high"}
{"t": "task", "id": "t-hmbj", "spec": "debug-dashboard-validation.md", "name": "Run make test 3 times to verify gc flakiness fix", "s": "p", "notes": "After fixing the prev_ptr debug check, run make test three times consecutively to verify the test_gc_handle_table_growth test is stable. Each run must pass completely.", "accept": "make test passes 3 times consecutively with no failures", "deps": ["t-98xn"], "priority": "high"}
{"t": "reject", "id": "t-iyj5", "done_at": "c068a04", "reason": "TSAN reports 10 data races in memory.c and aio_async.c, acceptance requires 0 races"}
{"t": "reject", "id": "t-evd5", "done_at": "e1a1bee", "reason": "No pthread_create in test - test calls close sequentially, not from 2 concurrent threads"}
{"t": "reject", "id": "t-cwlz", "done_at": "e0da374", "reason": "No Content-Type or Cache-Control header validation in test_debug_handler.valk"}
{"t": "reject", "id": "t-p3w9", "done_at": "dd9ec4c", "reason": "No slab query param tests (slab=, start=, end=, buckets=) in test_debug_handler.valk"}
{"t": "reject", "id": "t-2vd4", "done_at": "31858f2", "reason": "No reset-state tests found in test_debug_handler.valk"}
{"t": "reject", "id": "t-76lv", "done_at": "26ea627", "reason": "test/test_gc_aio.c does not exist - only test_gc_aio_debug.c and test_gc_aio_hang.c exist"}
{"t": "reject", "id": "t-4ec8", "done_at": "1d7fdaf", "reason": "/tmp/gc_aio_analysis.md does not exist"}
{"t": "reject", "id": "t-joav", "done_at": "3bc1d14", "reason": "Test times out after 30s, doesn't complete in 15s as required"}
{"t": "reject", "id": "t-kaka", "done_at": "7a2c89b", "reason": "After mem/gc/collect, builtin + is not bound - GC still frees builtins"}
{"t": "reject", "id": "t-hmqm", "done_at": "55d8499", "reason": "make test times out after 5 minutes - does not complete successfully"}
{"t": "reject", "id": "t-cwlz", "done_at": "2f74afe", "reason": "Tests exist for endpoints but do NOT verify HTTP headers. No Content-Type or Cache-Control header assertions found."}
{"t": "reject", "id": "t-2vd4", "done_at": "cac1b52", "reason": "test_debug_handler.valk has no tests for debug/reset-state. No session ID increment, subscriber cleanup, or post-reset tests."}
{"t": "reject", "id": "t-76lv", "done_at": "c999b7d", "reason": "test/test_gc_aio.c file does not exist"}
{"t": "reject", "id": "t-4ec8", "done_at": "756f598", "reason": "File /tmp/gc_aio_analysis.md does not exist"}
{"t": "reject", "id": "t-2vd4", "done_at": "cbf8c54", "reason": "No debug/reset-state tests exist in test_debug_handler.valk - missing session ID increment test, old subscriber cleanup test, and new subscribers after reset test"}
{"t": "reject", "id": "t-76lv", "done_at": "76c8374", "reason": "test/test_gc_aio.c does not exist - only found similar files test_gc_aio_hang.c, test_gc_aio_debug.c"}
{"t": "reject", "id": "t-wdmq", "done_at": "719d2d6", "reason": "No Cache-Control header test exists in test_debug_handler.valk - the get-header helper exists but is only used for Content-Type checks"}
{"t": "reject", "id": "t-m8th", "done_at": "50168cc", "reason": "Only 28/31 tests pass; 3 tests have TIMEOUT status: diagnostics/memory SSE second event, diagnostics/memory SSE events valid JSON, Broadcaster multiple connections"}
{"t": "reject", "id": "t-2vd4", "done_at": "49d8e37", "reason": "No tests for debug/reset-state exist in test_debug_handler.valk or any other test file"}
{"t": "reject", "id": "t-76lv", "done_at": "92ff32b", "reason": "build/test_gc_aio binary does not exist; test_gc_aio.c was never created (test_gc_aio_hang exists but has different name)"}
{"t": "reject", "id": "t-wdmq", "done_at": "9570f39", "reason": "No test verifies Cache-Control header on /debug/metrics/state endpoint"}
{"t": "reject", "id": "t-m8th", "done_at": "15f61a1", "reason": "Only 29/31 tests pass; 2 tests timed out"}
{"t": "reject", "id": "t-2fwh", "done_at": "53828d0", "reason": "Only 28/31 tests pass; 3 tests timed out with TIMEOUT lines in output"}
{"t": "reject", "id": "t-ah2k", "done_at": "f1863ba", "reason": "Test missing assertion to verify callback never runs after cancellation"}
