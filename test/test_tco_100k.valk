;; Ultimate TCO test: 100,000 iterations with O(1) space!
;; This MUST use VALK_BYTECODE=1

(def {countdown} (\ {n} {
  (if (== n 0)
    {0}
    {(countdown (- n 1))})
}))

(print "Testing countdown(100000) with O(1) TCO...")
(print (countdown 100000))
(print "SUCCESS: 100,000 tail calls with O(1) space!")
