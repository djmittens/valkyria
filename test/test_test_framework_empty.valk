; Test the test framework when no tests are registered
; This tests the empty registry error path

(load "src/prelude.valk")
(load "src/modules/test.valk")

(test/suite "Empty Suite Test")

; Expect exit code 1 (failure due to no tests)
(test/expect-exit 1)

; Clear the registry to ensure it's empty
(def {*test-registry*} {})

; Run - would normally exit 1, but expect-exit makes suite pass
(test/run {})
