; Test with prelude loaded
(load "src/prelude.valk")

(printf "\nTesting map function with head/tail:\n")

(= {nums} {1 2 3 4 5})
(fun {double x} {* x 2})
(printf "Doubling {1 2 3 4 5} using map: ")
(print (map double nums))

(printf "\nTesting with multiple iterations:\n")
(fun {test-iteration n} {
  do
    (printf "Iteration %ld: " n)
    (= {test-list} {a b c d e})
    (printf "head -> ")
    (print (head test-list))
    (printf "  tail -> ")
    (print (tail test-list))
    true
})

(map test-iteration {1 2 3})

(printf "\nAll tests completed successfully!\n")