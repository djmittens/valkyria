;; Test that bytecode VM achieves O(1) space TCO
;; This should work with VALK_BYTECODE=1

(def {countdown} (\ {n} {
  (if (== n 0)
    {0}
    {(countdown (- n 1))})
}))

(print "Testing countdown with small value...")
(print (countdown 10))

(print "Testing countdown with 1000...")
(print (countdown 1000))

(print "Testing countdown with 10000...")
(print (countdown 10000))

(print "SUCCESS: All countdown tests passed!")
