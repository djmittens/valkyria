(load "src/prelude.valk")

(printf "Testing nth issue:\n\n")

(= {lst} {10 20 30})

(printf "Calling nth 1 on list: ")
(print lst)
(= {result} (nth 1 lst))
(printf "\nnth 1 result: ")
(print result)
(printf "Result type: %ld\n" (type result))

(printf "\nManually doing what nth should do for n=1:\n")
(= {n} 1)
(printf "Condition (== n 1): %ld\n" (== n 1))
(printf "Calling fst: ")
(= {fst-result} (fst lst))
(print fst-result)

(printf "\nManually calling select:\n")
(= {select-result} (select
  {(== 1 1) (fst lst)}
  {otherwise "not matched"}))
(printf "select result: ")
(print select-result)

(shutdown 0)
