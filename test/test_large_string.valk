; Test large string concatenation - using simple approach
(load "src/prelude.valk")

(print "=== Testing Large String Concatenation ===")

; Build a 128-byte string using str directly
(print (str "Building 128B: " (len (str "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
                                        "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF")) " bytes"))

; Build a 1KB string (16 x 64 bytes = 1024)
(print (str "Building 1KB: " (len (str
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
  "0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
)) " bytes"))

(print "=== Tests completed ===")
