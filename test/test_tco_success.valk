; Demonstrate full TCO working
(print "=== Tail Call Optimization Test ===")
(print "")

; Test 1: Simple countdown
(def {countdown} (\ {n}
  {if (== n 0) {0} {countdown (- n 1)}}))
(print "Test 1: Countdown from 5000...")
(print (countdown 5000))
(print "✓ Success - no stack overflow!")
(print "")

; Test 2: Tail-recursive sum with accumulator
(def {sum-helper} (\ {n acc}
  {if (== n 0) {acc} {sum-helper (- n 1) (+ acc n)}}))
(def {sum} (\ {n} {sum-helper n 0}))
(print "Test 2: Sum of 1..1000...")
(print (sum 1000))
(print "Expected: 500500")
(print "✓ Success - no stack overflow!")
(print "")

(print "=== All TCO tests passed! ===")
