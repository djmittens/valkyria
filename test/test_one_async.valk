(load "src/prelude.valk")

(print "Single async test")

(def {fetch-data} (\ {value k} {
  (print "Fetching:" value)
  (k (* value 2))
}))

(def {result1} (async-reset {
  (async-shift {k} {(fetch-data 21 k)})
}))

(print "Result:" result1)
(shutdown 0)
