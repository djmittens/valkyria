(printf "Testing lambda\n")

(def {add} (\ {a b} (+ a b)))

(printf "About to call add\n")
(= {result} (add 1 2))
(printf "Called add, result type: %d\n" (type result))

(if (== result 3)
  {printf "SUCCESS: result == 3\n"}
  {printf "FAIL: result != 3, got %ld\n" result})

(shutdown 0)
