; Test shift/reset with new syntax

(print "=== Testing shift/reset continuations ===")

; Test 1: Simple shift
(print "Test 1: Simple shift")
(def {result}
  (reset
    (shift {k} 42)))
(print "Result:" result)

; Test 2: Shift with continuation call
(print "Test 2: Call continuation")
(def {result2}
  (reset
    (shift {k} (k 100))))
(print "Result2:" result2)

; Test 3: Shift in context
(print "Test 3: Shift in arithmetic context")
(def {result3}
  (reset
    (+ 1 (shift {k} 99))))
(print "Result3:" result3)

; Test 4: Use continuation
(print "Test 4: Actually use the continuation")
(def {result4}
  (reset
    (+ 1 (shift {k} (+ 10 (k 5))))))
(print "Result4:" result4)

(print "=== Tests complete ===")