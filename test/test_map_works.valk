(load "src/prelude.valk")

(= {n} 1)
(= {_l} {100 200 300})

(printf "Test select with nth's branches:\n")
(= {result} (select
  {(<= n 0) (error "bad")}
  {(== n 1) (fst _l)}
  {otherwise 999}
))
(printf "Result: %ld\n" result)

(shutdown 0)
