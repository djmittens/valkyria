\* Exact test scenario: 4 requests, 6 buffers, BP timeout 1s/100ms = 10 ticks
\* With MaxTicks=25, we model 2.5 seconds of maintenance timer ticks.
\* The test allows 5s = 50 ticks, but we bound lower for tractability.
\*
\* 4 requests * 2 sides * 2 bufs = 16 needed, only 6 available.
\* At most 1 full connection (4 bufs), remaining 2 bufs can partially
\* establish one more, then the last 2 requests fail at setup.

CONSTANTS
  NumRequests = 4
  SlabSize = 6
  BufsPerSide = 2
  TimeoutTicks = 3
  MaxTicks = 12
  NULL = "NULL"

INIT Init

NEXT Next

INVARIANTS
  TypeOK
  SlabNonNegative
  BufferConservation
  ClosedHoldsNoBuffers
  UnsettledHasPath
  NoOrphanedRequest

CHECK_DEADLOCK TRUE
